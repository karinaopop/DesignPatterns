using System;

// Абстрактний обробник
abstract class Handler
{
    protected Handler next;

    public void SetNext(Handler nextHandler)
    {
        next = nextHandler;
    }

    public abstract void Handle(int request);
}

// Конкретні обробники
class Operator : Handler
{
    public override void Handle(int request)
    {
        if (request <= 10)
            Console.WriteLine($"Оператор обробив запит {request}");
        else if (next != null)
            next.Handle(request);
    }
}

class Manager : Handler
{
    public override void Handle(int request)
    {
        if (request <= 20)
            Console.WriteLine($"Менеджер обробив запит {request}");
        else if (next != null)
            next.Handle(request);
    }
}

class Director : Handler
{
    public override void Handle(int request)
    {
        Console.WriteLine($"Директор обробив запит {request}");
    }
}

// Клієнт
class Program
{
    static void Main()
    {
        Handler operatorHandler = new Operator();
        Handler managerHandler = new Manager();
        Handler directorHandler = new Director();

        // Створення ланцюга
        operatorHandler.SetNext(managerHandler);
        managerHandler.SetNext(directorHandler);

        int[] requests = { 5, 14, 25 };

        foreach (int request in requests)
        {
            operatorHandler.Handle(request);
        }
    }
}
